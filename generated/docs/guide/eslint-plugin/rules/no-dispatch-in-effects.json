{
  "id": "guide/eslint-plugin/rules/no-dispatch-in-effects",
  "title": "no-dispatch-in-effects",
  "contents": "\n\n\n  <div class=\"github-links\">\n    <a href=\"https://github.com/ngrx/platform/edit/main/projects/ngrx.io/content/guide/eslint-plugin/rules/no-dispatch-in-effects.md?message=docs%3A%20describe%20your%20change...\" aria-label=\"Suggest Edits\" title=\"Suggest Edits\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  </div>\n\n\n<div class=\"content\">\n<h1 id=\"no-dispatch-in-effects\">no-dispatch-in-effects<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/eslint-plugin/rules/no-dispatch-in-effects#no-dispatch-in-effects\"><i class=\"material-icons\">link</i></a></h1>\n<p><code>Effect</code> should not call <code>store.dispatch</code>.</p>\n<ul>\n<li><strong>Type</strong>: suggestion</li>\n<li><strong>Recommended</strong>: Yes</li>\n<li><strong>Fixable</strong>: No</li>\n<li><strong>Suggestion</strong>: Yes</li>\n<li><strong>Requires type checking</strong>: No</li>\n<li><strong>Configurable</strong>: No</li>\n</ul>\n<!-- Everything above this generated, do not edit -->\n<!-- MANUAL-DOC:START -->\n<h2 id=\"rule-details\">Rule Details<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/eslint-plugin/rules/no-dispatch-in-effects#rule-details\"><i class=\"material-icons\">link</i></a></h2>\n<p>An effect should handle actions and map them to a singular action.\nEach effect should be clear and concise and must be understandable to what it does affect.\nDispatching an action from inside an effect instead of (or together with) mapping it to an action can result in painfully hard-to-find bugs and is generally considered a bad practice.</p>\n<p>Examples of <strong>incorrect</strong> code for this rule:</p>\n<code-example language=\"ts\">\n<a href=\"api/store-devtools/DevToolsFeatureOptions#export\" class=\"code-anchor\">export</a> class Effects {\n  loadData$ = <a href=\"api/effects/createEffect\" class=\"code-anchor\">createEffect</a>(() =>\n    this.actions.pipe(\n      <a href=\"api/effects/ofType\" class=\"code-anchor\">ofType</a>(loadData),\n      exhaustMap(() =>\n        this.dataService.getData().pipe(\n          tap((response) => {\n            // âš  dispatching another action from an <a href=\"api/effects/EffectNotification#effect\" class=\"code-anchor\">effect</a>\n            if (response.condition) {\n              this.store.dispatch(anotherAction());\n            }\n          }),\n          map((response) => loadDataSuccess(response)),\n          catchError((error) => loadDataError(error))\n        )\n      )\n    )\n  );\n\n  constructor(\n    private readonly actions$: <a href=\"api/effects/Actions\" class=\"code-anchor\">Actions</a>,\n    private readonly store: <a href=\"api/store/Store\" class=\"code-anchor\">Store</a>\n  ) {}\n}\n</code-example>\n<p>Examples of <strong>correct</strong> code for this rule:</p>\n<code-example language=\"ts\">\n<a href=\"api/store-devtools/DevToolsFeatureOptions#export\" class=\"code-anchor\">export</a> class Effects {\n  loadData$ = <a href=\"api/effects/createEffect\" class=\"code-anchor\">createEffect</a>(() =>\n    this.actions.pipe(\n      <a href=\"api/effects/ofType\" class=\"code-anchor\">ofType</a>(loadData),\n      exhaustMap(() =>\n        this.dataService.getData().pipe(\n          map((response) => loadDataSuccess(response)),\n          catchError((error) => loadDataError(error))\n        )\n      )\n    )\n  );\n\n  handleCondition$ = <a href=\"api/effects/createEffect\" class=\"code-anchor\">createEffect</a>(() =>\n    this.action.pipe(\n      <a href=\"api/effects/ofType\" class=\"code-anchor\">ofType</a>(loadDataSuccess),\n      <a href=\"api/data/EntityCollection#filter\" class=\"code-anchor\">filter</a>((response) => response.condition),\n      exhaustMap(() =>\n        this.dataService\n          .getOtherData\n          // handle response from a consequent request\n          ()\n      )\n    )\n  );\n\n  constructor(private readonly actions$: <a href=\"api/effects/Actions\" class=\"code-anchor\">Actions</a>) {}\n}\n</code-example>\n\n</div>\n\n<!-- links to this doc:\n-->\n<!-- links from this doc:\n - api/data/EntityCollection#filter\n - api/effects/Actions\n - api/effects/EffectNotification#effect\n - api/effects/createEffect\n - api/effects/ofType\n - api/store-devtools/DevToolsFeatureOptions#export\n - api/store/Store\n - guide/eslint-plugin/rules/no-dispatch-in-effects#no-dispatch-in-effects\n - guide/eslint-plugin/rules/no-dispatch-in-effects#rule-details\n - https://github.com/ngrx/platform/edit/main/projects/ngrx.io/content/guide/eslint-plugin/rules/no-dispatch-in-effects.md?message=docs%3A%20describe%20your%20change...\n-->"
}
{
  "id": "guide/eslint-plugin/rules/prefer-concat-latest-from",
  "title": "prefer-concat-latest-from",
  "contents": "\n\n\n  <div class=\"github-links\">\n    <a href=\"https://github.com/ngrx/platform/edit/main/projects/ngrx.io/content/guide/eslint-plugin/rules/prefer-concat-latest-from.md?message=docs%3A%20describe%20your%20change...\" aria-label=\"Suggest Edits\" title=\"Suggest Edits\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  </div>\n\n\n<div class=\"content\">\n<h1 id=\"prefer-concat-latest-from\">prefer-concat-latest-from<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/eslint-plugin/rules/prefer-concat-latest-from#prefer-concat-latest-from\"><i class=\"material-icons\">link</i></a></h1>\n<blockquote>\n<p>Required NgRx Version Range: ${meta.version}</p>\n</blockquote>\n<p>Use <code><a href=\"api/effects/concatLatestFrom\" class=\"code-anchor\">concatLatestFrom</a></code> instead of <code>withLatestFrom</code> to prevent the selector from firing until the correct <code><a href=\"api/store/Action\" class=\"code-anchor\">Action</a></code> is dispatched.</p>\n<ul>\n<li><strong>Type</strong>: problem</li>\n<li><strong>Recommended</strong>: Yes</li>\n<li><strong>Fixable</strong>: Yes</li>\n<li><strong>Suggestion</strong>: No</li>\n<li><strong>Requires type checking</strong>: No</li>\n<li><strong>Configurable</strong>: Yes</li>\n</ul>\n<!-- Everything above this generated, do not edit -->\n<!-- MANUAL-DOC:START -->\n<h2 id=\"rule-details\">Rule Details<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/eslint-plugin/rules/prefer-concat-latest-from#rule-details\"><i class=\"material-icons\">link</i></a></h2>\n<p>Using <code><a href=\"api/effects/concatLatestFrom\" class=\"code-anchor\">concatLatestFrom</a></code> (a lazy version of <code>withLatestFrom</code>) ensures that the selector is only invoked when the effect receives the action.\nIn contrast to <code>withLatestFrom</code> that immediately subscribes whether the action is dispatched yet or not. If that state used by the selector is not initialized yet, you could get an error that you're not expecting.</p>\n<p>Examples of <strong>incorrect</strong> code for this rule:</p>\n<code-example language=\"ts\">\nclass Effect {\n  detail$ = <a href=\"api/effects/createEffect\" class=\"code-anchor\">createEffect</a>(() => {\n    return this.actions.pipe(\n      <a href=\"api/effects/ofType\" class=\"code-anchor\">ofType</a>(ProductDetailPage.loaded),\n      // âš \n      withLatestFrom(this.store.select(selectProducts)),\n      mergeMap(([action, products]) => {\n        ...\n      })\n    )\n  })\n}\n</code-example>\n<p>Examples of <strong>correct</strong> code for this rule:</p>\n<code-example language=\"ts\">\nclass Effect {\n  detail$ = <a href=\"api/effects/createEffect\" class=\"code-anchor\">createEffect</a>(() => {\n    return this.actions.pipe(\n      <a href=\"api/effects/ofType\" class=\"code-anchor\">ofType</a>(ProductDetailPage.loaded),\n      <a href=\"api/effects/concatLatestFrom\" class=\"code-anchor\">concatLatestFrom</a>(() => this.store.select(selectProducts)),\n      mergeMap(([action, products]) => {\n        ...\n      })\n    )\n  })\n}\n</code-example>\n<h2 id=\"rule-config\">Rule Config<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/eslint-plugin/rules/prefer-concat-latest-from#rule-config\"><i class=\"material-icons\">link</i></a></h2>\n<p>To configure this rule you can use the <code>strict</code> option.\nThe default is <code>false</code>.</p>\n<p>To always report the uses of <code>withLatestFrom</code> use:</p>\n<code-example language=\"json\">\n\"rules\": {\n  \"@ngrx/prefer-concat-latest-from\": [\"warn\", { \"strict\": true }]\n}\n</code-example>\n<p>To report only needed uses of <code>withLatestFrom</code> use:</p>\n<code-example language=\"json\">\n\"rules\": {\n  \"@ngrx/prefer-concat-latest-from\": [\"warn\", { \"strict\": false }]\n}\n</code-example>\n<h2 id=\"further-reading\">Further reading<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/eslint-plugin/rules/prefer-concat-latest-from#further-reading\"><i class=\"material-icons\">link</i></a></h2>\n<ul>\n<li><a href=\"api/effects/concatLatestFrom\"><code>concatLatestFrom</code> API</a></li>\n<li><a href=\"guide/effects#incorporating-state\">Incorporating State</a></li>\n</ul>\n\n</div>\n\n<!-- links to this doc:\n-->\n<!-- links from this doc:\n - api/effects/concatLatestFrom\n - api/effects/createEffect\n - api/effects/ofType\n - api/store/Action\n - guide/effects#incorporating-state\n - guide/eslint-plugin/rules/prefer-concat-latest-from#further-reading\n - guide/eslint-plugin/rules/prefer-concat-latest-from#prefer-concat-latest-from\n - guide/eslint-plugin/rules/prefer-concat-latest-from#rule-config\n - guide/eslint-plugin/rules/prefer-concat-latest-from#rule-details\n - https://github.com/ngrx/platform/edit/main/projects/ngrx.io/content/guide/eslint-plugin/rules/prefer-concat-latest-from.md?message=docs%3A%20describe%20your%20change...\n-->"
}
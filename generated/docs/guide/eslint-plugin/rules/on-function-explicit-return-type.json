{
  "id": "guide/eslint-plugin/rules/on-function-explicit-return-type",
  "title": "on-function-explicit-return-type",
  "contents": "\n\n\n  <div class=\"github-links\">\n    <a href=\"https://github.com/ngrx/platform/edit/master/projects/ngrx.io/content/guide/eslint-plugin/rules/on-function-explicit-return-type.md?message=docs%3A%20describe%20your%20change...\" aria-label=\"Suggest Edits\" title=\"Suggest Edits\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  </div>\n\n\n<div class=\"content\">\n<h1 id=\"on-function-explicit-return-type\">on-function-explicit-return-type<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/eslint-plugin/rules/on-function-explicit-return-type#on-function-explicit-return-type\"><i class=\"material-icons\">link</i></a></h1>\n<p><code>On</code> function should have an explicit return type.</p>\n<ul>\n<li><strong>Type</strong>: suggestion</li>\n<li><strong>Recommended</strong>: Yes</li>\n<li><strong>Fixable</strong>: No</li>\n<li><strong>Suggestion</strong>: Yes</li>\n<li><strong>Requires type checking</strong>: No</li>\n<li><strong>Configurable</strong>: No</li>\n</ul>\n<!-- Everything above this generated, do not edit -->\n<!-- MANUAL-DOC:START -->\n<h2 id=\"rule-details\">Rule Details<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/eslint-plugin/rules/on-function-explicit-return-type#rule-details\"><i class=\"material-icons\">link</i></a></h2>\n<p>When we use the <code><a href=\"api/store/on\" class=\"code-anchor\">on</a></code> function to create reducers, we usually copy the state into a new object, and then add the properties that are being modified after that certain action. This may result in unexpected typing problems, we can add new properties into the state that did not exist previously. TypeScript doesn't see this as a problem and might change the state's interface. The solution is to provide an explicit return type to the <code><a href=\"api/store/on\" class=\"code-anchor\">on</a></code> function callback.</p>\n<p>Examples of <strong>incorrect</strong> code for this rule:</p>\n<code-example language=\"ts\">\n<a href=\"api/store-devtools/DevToolsFeatureOptions#export\" class=\"code-anchor\">export</a> interface AppState {\n  username: string;\n}\n\nconst reducer = <a href=\"api/store/createReducer\" class=\"code-anchor\">createReducer</a>&#x3C;AppState>(\n  { username: '' },\n  <a href=\"api/store/on\" class=\"code-anchor\">on</a>(setUsername, (<a href=\"api/store-devtools/StoreDevtools#state\" class=\"code-anchor\">state</a>, action) => ({\n    ...state,\n    username: action.payload,\n    newProperty: 1, // we added a property that does not exist <a href=\"api/store/on\" class=\"code-anchor\">on</a> `AppState`, and TS won't catch this problem\n  }))\n);\n</code-example>\n<p>Examples of <strong>correct</strong> code for this rule:</p>\n<code-example language=\"ts\">\n<a href=\"api/store-devtools/DevToolsFeatureOptions#export\" class=\"code-anchor\">export</a> interface AppState {\n  username: string;\n}\n\nconst reducer = <a href=\"api/store/createReducer\" class=\"code-anchor\">createReducer</a>&#x3C;AppState>(\n  { username: '' },\n  <a href=\"api/store/on\" class=\"code-anchor\">on</a>(\n    setUsername,\n    (<a href=\"api/store-devtools/StoreDevtools#state\" class=\"code-anchor\">state</a>, action): AppState => ({\n      ...state,\n      username: action.payload,\n      // adding new properties that do not exist <a href=\"api/store/on\" class=\"code-anchor\">on</a> `AppState` is impossible, as the function return type is explicitly stated\n    })\n  )\n);\n</code-example>\n\n</div>\n\n<!-- links to this doc:\n-->\n<!-- links from this doc:\n - api/store-devtools/DevToolsFeatureOptions#export\n - api/store-devtools/StoreDevtools#state\n - api/store/createReducer\n - api/store/on\n - guide/eslint-plugin/rules/on-function-explicit-return-type#on-function-explicit-return-type\n - guide/eslint-plugin/rules/on-function-explicit-return-type#rule-details\n - https://github.com/ngrx/platform/edit/master/projects/ngrx.io/content/guide/eslint-plugin/rules/on-function-explicit-return-type.md?message=docs%3A%20describe%20your%20change...\n-->"
}
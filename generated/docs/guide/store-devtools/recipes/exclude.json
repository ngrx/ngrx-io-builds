{
  "id": "guide/store-devtools/recipes/exclude",
  "title": "Excluding Store Devtools In Production",
  "contents": "\n\n\n  <div class=\"github-links\">\n    <a href=\"https://github.com/ngrx/platform/edit/main/projects/ngrx.io/content/guide/store-devtools/recipes/exclude.md?message=docs%3A%20describe%20your%20change...\" aria-label=\"Suggest Edits\" title=\"Suggest Edits\"><i class=\"material-icons\" aria-hidden=\"true\" role=\"img\">mode_edit</i></a>\n  </div>\n\n\n<div class=\"content\">\n<h1 id=\"excluding-store-devtools-in-production\">Excluding Store Devtools In Production<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/store-devtools/recipes/exclude#excluding-store-devtools-in-production\"><i class=\"material-icons\">link</i></a></h1>\n<p>To prevent Store Devtools from being included in your bundle, you can exclude it from the build process.</p>\n<h2 id=\"step-1-create-build-specific-files\">Step 1: Create build specific files<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/store-devtools/recipes/exclude#step-1-create-build-specific-files\"><i class=\"material-icons\">link</i></a></h2>\n<p>Create a folder for your build specific files. In this case, it is <code>build-specifics</code>. Now create a file for a common build. Within this file, export an array that defines the <code><a href=\"api/store-devtools/StoreDevtoolsModule\" class=\"code-anchor\">StoreDevtoolsModule</a></code>.</p>\n<code-example header=\"build-specifics/index.ts\">\n<a href=\"api/store-devtools/DevToolsFeatureOptions#import\" class=\"code-anchor\">import</a> { <a href=\"api/store-devtools/StoreDevtoolsModule\" class=\"code-anchor\">StoreDevtoolsModule</a> } from '@ngrx/store-devtools';\n\n<a href=\"api/store-devtools/DevToolsFeatureOptions#export\" class=\"code-anchor\">export</a> const extModules = [\n    StoreDevtoolsModule.instrument({\n        <a href=\"api/store-devtools/StoreDevtoolsConfig#maxAge\" class=\"code-anchor\">maxAge</a>: 25\n    })\n];\n</code-example>\n<p>Now create a file for a production build (<code>ng build --prod=true</code>) that simply exports an empty array.</p>\n<code-example header=\"build-specifics/index.prod.ts\">\n<a href=\"api/store-devtools/DevToolsFeatureOptions#export\" class=\"code-anchor\">export</a> const extModules = [];\n</code-example>\n<h2 id=\"step-2-import-extmodules\">Step 2: Import extModules<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/store-devtools/recipes/exclude#step-2-import-extmodules\"><i class=\"material-icons\">link</i></a></h2>\n<p>Modify <code>app.module.ts</code> to include <code>extModules</code> in the <code>imports</code> array.</p>\n<code-example header=\"app.module.ts\">\n<a href=\"api/store-devtools/DevToolsFeatureOptions#import\" class=\"code-anchor\">import</a> { extModules } from './build-specifics';\n\n@NgModule({\n    imports: [\n        StoreModule.forRoot(reducers),\n        // Instrumentation must be imported after importing <a href=\"api/store/StoreModule\" class=\"code-anchor\">StoreModule</a>\n        extModules,\n    ],\n})\n</code-example>\n<h2 id=\"step-3-modify-angularjson\">Step 3: Modify angular.json<a title=\"Link to this heading\" class=\"header-link\" aria-hidden=\"true\" href=\"guide/store-devtools/recipes/exclude#step-3-modify-angularjson\"><i class=\"material-icons\">link</i></a></h2>\n<p>Add a new entry in the <code>fileReplacements</code> section in your <code>angular.json</code>. For more information on this topic, look at the build section of the angular documentation. <a href=\"https://angular.io/guide/build#configure-target-specific-file-replacements\">Configure target-specific file replacements</a></p>\n<code-example header=\"angular.json\">\n\"fileReplacements\": [\n    {\n        \"replace\": \"src/app/build-specifics/index.ts\",\n        \"with\": \"src/app/build-specifics/index.prod.ts\"\n    }\n]\n</code-example>\n\n</div>\n\n<!-- links to this doc:\n-->\n<!-- links from this doc:\n - api/store-devtools/DevToolsFeatureOptions#export\n - api/store-devtools/DevToolsFeatureOptions#import\n - api/store-devtools/StoreDevtoolsConfig#maxAge\n - api/store-devtools/StoreDevtoolsModule\n - api/store/StoreModule\n - guide/store-devtools/recipes/exclude#excluding-store-devtools-in-production\n - guide/store-devtools/recipes/exclude#step-1-create-build-specific-files\n - guide/store-devtools/recipes/exclude#step-2-import-extmodules\n - guide/store-devtools/recipes/exclude#step-3-modify-angularjson\n - https://angular.io/guide/build#configure-target-specific-file-replacements\n - https://github.com/ngrx/platform/edit/main/projects/ngrx.io/content/guide/store-devtools/recipes/exclude.md?message=docs%3A%20describe%20your%20change...\n-->"
}
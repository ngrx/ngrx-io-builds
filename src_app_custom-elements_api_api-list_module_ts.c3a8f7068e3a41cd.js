"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([["src_app_custom-elements_api_api-list_module_ts"],{7629:function(G,y,o){o.r(y),o.d(y,{ApiListModule:function(){return Y}});var p=o(942),h=o(9004),f=o(8143),g=o(8336),C=o(5349),T=o(9912),m=o(849),Z=o(3886),L=o(4736),t=o(1109),M=o(7605),d=o(5231),S=o(7724),j=o(8936),x=o(2293),A=function(){var s=function(){function r(e,i){(0,h.Z)(this,r),this.http=e,this.logger=i,this.apiBase=j.Yp+"api/",this.apiListJsonDefault="api-list.json",this.firstTime=!0,this.onDestroy=new M.x,this.sectionsSubject=new m.t(1),this._sections=this.sectionsSubject.pipe((0,d.R)(this.onDestroy))}return(0,p.Z)(r,[{key:"sections",get:function(){var i=this;return this.firstTime&&(this.firstTime=!1,this.fetchSections(),this._sections.subscribe(function(a){return i.logger.log("ApiService got API sections")})),this._sections.pipe((0,S.b)(function(a){a.forEach(function(n){n.deprecated=!!n.items&&n.items.every(function(u){return"deprecated"===u.stability})})}))}},{key:"ngOnDestroy",value:function(){this.onDestroy.next()}},{key:"fetchSections",value:function(i){var a=this,n=this.apiBase+(i||this.apiListJsonDefault);this.http.get(n).pipe((0,d.R)(this.onDestroy),(0,S.b)(function(){return a.logger.log("Got API sections from ".concat(n))})).subscribe(function(u){return a.sectionsSubject.next(u)},function(u){throw a.logger.error(u),u})}}]),r}();return s.\u0275fac=function(e){return new(e||s)(t.LFG(g.eN),t.LFG(x.Y))},s.\u0275prov=t.Yz7({token:s,factory:s.\u0275fac}),s}(),b=o(7279),J=o(6649),O=["filter"];function Q(s,r){if(1&s&&(t.TgZ(0,"h2"),t.TgZ(1,"a",11),t._uU(2),t.qZA(),t.qZA()),2&s){var e=t.oxw().$implicit;t.xp6(1),t.ekj("deprecated-api-item",e.deprecated),t.Q6J("href",e.path,t.LSH),t.xp6(1),t.hij("@ngrx/",e.title,"")}}function k(s,r){if(1&s&&(t.ynx(0),t.TgZ(1,"li",13),t.TgZ(2,"a",11),t._UZ(3,"span"),t._uU(4),t.qZA(),t.qZA(),t.BQk()),2&s){var e=r.$implicit;t.xp6(2),t.ekj("deprecated-api-item","deprecated"===e.stability),t.Q6J("href",e.path,t.LSH),t.xp6(1),t.Gre("symbol ",e.docType,""),t.xp6(1),t.hij(" ",e.title," ")}}function F(s,r){if(1&s&&(t.TgZ(0,"ul",12),t.YNc(1,k,5,7,"ng-container",8),t.qZA()),2&s){var e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.items)}}function D(s,r){if(1&s&&(t.TgZ(0,"div"),t.YNc(1,Q,3,4,"h2",9),t.YNc(2,F,2,1,"ul",10),t.qZA()),2&s){var e=r.$implicit;t.xp6(1),t.Q6J("ngIf",e.items),t.xp6(1),t.Q6J("ngIf",null==e.items?null:e.items.length)}}var I=(0,p.Z)(function s(){(0,h.Z)(this,s),this.query="",this.status="all",this.type="all"}),N=function(){var s=function(){function r(e,i){(0,h.Z)(this,r),this.apiService=e,this.locationService=i,this.showStatusMenu=!1,this.showTypeMenu=!1,this.criteriaSubject=new m.t(1),this.searchCriteria=new I,this.types=[{value:"all",title:"All"},{value:"class",title:"Class"},{value:"const",title:"Const"},{value:"decorator",title:"Decorator"},{value:"directive",title:"Directive"},{value:"enum",title:"Enum"},{value:"function",title:"Function"},{value:"interface",title:"Interface"},{value:"pipe",title:"Pipe"},{value:"ngmodule",title:"NgModule"},{value:"type-alias",title:"Type alias"},{value:"package",title:"Package"}],this.statuses=[{value:"all",title:"All"},{value:"stable",title:"Stable"},{value:"deprecated",title:"Deprecated"},{value:"security-risk",title:"Security Risk"}]}return(0,p.Z)(r,[{key:"ngOnInit",value:function(){var i=this;this.filteredSections=(0,Z.a)([this.apiService.sections,this.criteriaSubject]).pipe((0,L.U)(function(a){var n=(0,T.Z)(a,2),l=n[1];return n[0].map(function(c){return Object.assign(Object.assign({},c),{items:i.filterSection(c,l)})})})),this.initializeSearchCriteria()}},{key:"setQuery",value:function(i){this.setSearchCriteria({query:(i||"").toLowerCase().trim()})}},{key:"setStatus",value:function(i){this.toggleStatusMenu(),this.status=i,this.setSearchCriteria({status:i.value})}},{key:"setType",value:function(i){this.toggleTypeMenu(),this.type=i,this.setSearchCriteria({type:i.value})}},{key:"toggleStatusMenu",value:function(){this.showStatusMenu=!this.showStatusMenu}},{key:"toggleTypeMenu",value:function(){this.showTypeMenu=!this.showTypeMenu}},{key:"filterSection",value:function(i,a){var n=a.query,u=a.status,l=a.type,c=i.items.filter(function(v){return("all"===l||l===v.docType)&&("all"===u||u===v.stability||"security-risk"===u&&v.securityRisk)&&(!n||-1!==i.name.indexOf(n)||-1!==v.name.indexOf(n))});return c.length?c:"package"!==l||n&&-1===i.name.indexOf(n)?null:[]}},{key:"initializeSearchCriteria",value:function(){var i=this.locationService.search(),n=i.status,u=i.type,l=(i.query||"").toLowerCase();this.queryEl.nativeElement.value=l,this.status=this.statuses.find(function(c){return c.value===n})||this.statuses[0],this.type=this.types.find(function(c){return c.value===u})||this.types[0],this.searchCriteria={query:l,status:this.status.value,type:this.type.value},this.criteriaSubject.next(this.searchCriteria)}},{key:"setLocationSearch",value:function(){var i=this.searchCriteria,n=i.status,u=i.type;this.locationService.setSearch("API Search",{query:i.query||void 0,status:"all"!==n?n:void 0,type:"all"!==u?u:void 0})}},{key:"setSearchCriteria",value:function(i){this.criteriaSubject.next(Object.assign(this.searchCriteria,i)),this.setLocationSearch()}}]),r}();return s.\u0275fac=function(e){return new(e||s)(t.Y36(A),t.Y36(b.a))},s.\u0275cmp=t.Xpm({type:s,selectors:[["aio-api-list"]],viewQuery:function(e,i){var a;1&e&&t.Gf(O,7),2&e&&t.iGM(a=t.CRH())&&(i.queryEl=a.first)},decls:11,vars:9,consts:[[1,"l-flex-wrap","api-filter"],["label","Type:",3,"options","selected","showSymbol","change"],["label","Status:",3,"options","selected","disabled","change"],[1,"form-search"],[1,"material-icons"],["placeholder","Filter",3,"input"],["filter",""],[1,"api-list-container","l-content-small","docs-content"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","api-list",4,"ngIf"],[3,"href"],[1,"api-list"],[1,"api-item"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t.TgZ(1,"aio-select",1),t.NdJ("change",function(n){return i.setType(n.option)}),t.qZA(),t.TgZ(2,"aio-select",2),t.NdJ("change",function(n){return i.setStatus(n.option)}),t.qZA(),t.TgZ(3,"div",3),t.TgZ(4,"i",4),t._uU(5,"search"),t.qZA(),t.TgZ(6,"input",5,6),t.NdJ("input",function(n){return i.setQuery(n.target.value)}),t.qZA(),t.qZA(),t.qZA(),t.TgZ(8,"article",7),t.YNc(9,D,3,2,"div",8),t.ALo(10,"async"),t.qZA()),2&e&&(t.xp6(1),t.Q6J("options",i.types)("selected",i.type)("showSymbol",!0),t.xp6(1),t.Q6J("options",i.statuses)("selected",i.status)("disabled","package"===i.type.value),t.xp6(7),t.Q6J("ngForOf",t.lcZ(10,7,i.filteredSections)))},directives:[J.H,f.sg,f.O5],pipes:[f.Ov],encapsulation:2}),s}(),Y=function(){var s=(0,p.Z)(function r(){(0,h.Z)(this,r),this.customElementComponent=N});return s.\u0275fac=function(e){return new(e||s)},s.\u0275mod=t.oAB({type:s}),s.\u0275inj=t.cJS({providers:[A],imports:[[f.ez,C.m,g.JF]]}),s}()}}]);
//# sourceMappingURL=src_app_custom-elements_api_api-list_module_ts.c3a8f7068e3a41cd.js.map
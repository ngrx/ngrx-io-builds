{"version":3,"file":"src_app_custom-elements_resource_resource-list_module_ts.53c2cf191f10b592.js","mappings":"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","names":["resourcesPath","CONTENT_URL_PREFIX","ResourceService","constructor","http","this","categories","getCategories","get","pipe","map","data","mkCategories","categoryJson","Object","keys","catKey","cat","id","makeId","title","order","subCategories","mkSubCategories","sort","compareCats","publishLast","connect","t","i0","i1","core","Yz7","factory","Éµfac","subCategoryJson","subKey","sub","resources","mkResources","resourceJson","resKey","res","category","subCategory","compareTitles","l","r","toUpperCase","toLowerCase","replace","resource_r5","url","desc","ResourceListComponent_div_2_div_6_div_4_div_1_Template","rev","ResourceListComponent_div_2_div_6_div_4_Template","subCategory_r3","ResourceListComponent_div_2_div_6_Template","category_r1","ResourceListComponent","location","resourceService","scrollPos","pathname","href","ngOnInit","subscribe","cats","onScroll","target","scrollTop","body","i2","Xpm","selectors","hostBindings","rf","ctx","$event","ResourceListComponent_div_2_Template","ResourceListModule","customElementComponent","oAB","cJS","imports","CommonModule"],"sourceRoot":"webpack:///","sources":["./src/app/custom-elements/resource/resource.service.ts","./src/app/custom-elements/resource/resource-list.component.html","./src/app/custom-elements/resource/resource-list.component.ts","./src/app/custom-elements/resource/resource-list.module.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\nimport { ConnectableObservable, Observable } from 'rxjs';\nimport { map, publishLast } from 'rxjs/operators';\n\nimport { Category, Resource, SubCategory } from './resource.model';\nimport { CONTENT_URL_PREFIX } from 'app/documents/document.service';\n\nconst resourcesPath = CONTENT_URL_PREFIX + 'resources.json';\n\n@Injectable()\nexport class ResourceService {\n    categories: Observable<Category[]>;\n\n    constructor(private http: HttpClient) {\n        this.categories = this.getCategories();\n    }\n\n    private getCategories(): Observable<Category[]> {\n\n        const categories = this.http.get<any>(resourcesPath).pipe(\n            map(data => mkCategories(data)),\n            publishLast(),\n        );\n\n        (categories as ConnectableObservable<Category[]>).connect();\n        return categories;\n    }\n}\n\n// Extract sorted Category[] from resource JSON data\nfunction mkCategories(categoryJson: any): Category[] {\n    return Object.keys(categoryJson).map(catKey => {\n        const cat = categoryJson[catKey];\n        return {\n            id: makeId(catKey),\n            title: catKey,\n            order: cat.order,\n            subCategories: mkSubCategories(cat.subCategories, catKey)\n        } as Category;\n    })\n        .sort(compareCats);\n}\n\n// Extract sorted SubCategory[] from JSON category data\nfunction mkSubCategories(subCategoryJson: any, catKey: string): SubCategory[] {\n    return Object.keys(subCategoryJson).map(subKey => {\n        const sub = subCategoryJson[subKey];\n        return {\n            id: makeId(subKey),\n            title: subKey,\n            order: sub.order,\n            resources: mkResources(sub.resources, subKey, catKey)\n        } as SubCategory;\n    })\n        .sort(compareCats);\n}\n\n// Extract sorted Resource[] from JSON subcategory data\nfunction mkResources(resourceJson: any, subKey: string, catKey: string): Resource[] {\n    return Object.keys(resourceJson).map(resKey => {\n        const res = resourceJson[resKey];\n        res.category = catKey;\n        res.subCategory = subKey;\n        res.id = makeId(resKey);\n        return res as Resource;\n    })\n        .sort(compareTitles);\n}\n\nfunction compareCats(l: Category | SubCategory, r: Category | SubCategory) {\n    return l.order === r.order ? compareTitles(l, r) : l.order > r.order ? 1 : -1;\n}\n\nfunction compareTitles(l: {title: string}, r: {title: string}) {\n    return l.title.toUpperCase() > r.title.toUpperCase() ? 1 : -1;\n}\n\nfunction makeId(title: string) {\n    return title.toLowerCase().replace(/\\s+/g, '-');\n}\n","<div class=\"resources-container\">\n    <div class=\"l-flex--column\">\n      <div class=\"showcase\" *ngFor=\"let category of categories\">\n        <header class=\"c-resource-header\">\n          <a class=\"h-anchor-offset\" id=\"{{category.id}}\"></a>\n          <h2>{{category.title}}</h2>\n        </header>\n\n        <div class=\"shadow-1\">\n          <div *ngFor=\"let subCategory of category.subCategories\">\n            <a class=\"h-anchor-offset\" id=\"{{subCategory.id}}\"></a>\n            <h3 class=\"subcategory-title\">{{subCategory.title}}</h3>\n\n            <div *ngFor=\"let resource of subCategory.resources\">\n              <div class=\"c-resource\" *ngIf=\"resource.rev\">\n                <a class=\"l-flex--column resource-row-link\" target=\"_blank\" [href]=\"resource.url\">\n                  <div>\n                    <h4>{{resource.title}}</h4>\n                    <p class=\"resource-description\">{{resource.desc || 'No Description'}}</p>\n                  </div>\n                </a>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n</div>\n","import { Component, HostListener, OnInit } from '@angular/core';\nimport { PlatformLocation } from '@angular/common';\n\nimport { Category } from './resource.model';\nimport { ResourceService } from './resource.service';\n\n@Component({\n    selector: 'aio-resource-list',\n    templateUrl: 'resource-list.component.html'\n})\nexport class ResourceListComponent implements OnInit {\n\n    categories: Category[];\n    location: string;\n    scrollPos = 0;\n\n    constructor(\n        location: PlatformLocation,\n        private resourceService: ResourceService) {\n        this.location = location.pathname.replace(/^\\/+/, '');\n    }\n\n    href(cat: {id: string}) {\n        return this.location + '#' + cat.id;\n    }\n\n    ngOnInit() {\n    // Not using async pipe because cats appear twice in template\n    // No need to unsubscribe because categories observable completes.\n        this.resourceService.categories.subscribe(cats => this.categories = cats);\n    }\n\n    @HostListener('window:scroll', ['$event.target'])\n    onScroll(target: any) {\n        this.scrollPos = target ? target.scrollTop || target.body.scrollTop ||  0 : 0;\n    }\n}\n","import { NgModule, Type } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ResourceListComponent } from './resource-list.component';\nimport { ResourceService } from './resource.service';\nimport { WithCustomElementComponent } from '../element-registry';\n\n@NgModule({\n    imports: [CommonModule],\n    declarations: [ResourceListComponent],\n    providers: [ResourceService],\n})\nexport class ResourceListModule implements WithCustomElementComponent {\n    customElementComponent: Type<any> = ResourceListComponent;\n}\n"],"x_google_ignoreList":[]}
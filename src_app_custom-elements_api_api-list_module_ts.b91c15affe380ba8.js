"use strict";(self.webpackChunksite=self.webpackChunksite||[]).push([["src_app_custom-elements_api_api-list_module_ts"],{7629:(I,m,a)=>{a.r(m),a.d(m,{ApiListModule:()=>r});var u=a(2954),f=a(2474),y=a(5349),d=a(849),S=a(3886),A=a(4736),t=a(9609),T=a(7605),v=a(5231),g=a(7724),C=a(8936),L=a(2293);class l{constructor(i,e){this.http=i,this.logger=e,this.apiBase=C.Yp+"api/",this.apiListJsonDefault="api-list.json",this.firstTime=!0,this.onDestroy=new T.x,this.sectionsSubject=new d.t(1),this._sections=this.sectionsSubject.pipe((0,v.R)(this.onDestroy))}get sections(){return this.firstTime&&(this.firstTime=!1,this.fetchSections(),this._sections.subscribe(i=>this.logger.log("ApiService got API sections"))),this._sections.pipe((0,g.b)(i=>{i.forEach(e=>{e.deprecated=!!e.items&&e.items.every(s=>"deprecated"===s.stability)})}))}ngOnDestroy(){this.onDestroy.next()}fetchSections(i){const e=this.apiBase+(i||this.apiListJsonDefault);this.http.get(e).pipe((0,v.R)(this.onDestroy),(0,g.b)(()=>this.logger.log(`Got API sections from ${e}`))).subscribe(s=>this.sectionsSubject.next(s),s=>{throw this.logger.error(s),s})}}l.\u0275fac=function(i){return new(i||l)(t.LFG(f.eN),t.LFG(L.Y))},l.\u0275prov=t.Yz7({token:l,factory:l.\u0275fac});var Z=a(7279),x=a(6649);const b=["filter"];function j(n,i){if(1&n&&(t.TgZ(0,"h2")(1,"a",11),t._uU(2),t.qZA()()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.ekj("deprecated-api-item",e.deprecated),t.Q6J("href",e.path,t.LSH),t.xp6(1),t.hij("@ngrx/",e.title,"")}}function J(n,i){if(1&n&&(t.ynx(0),t.TgZ(1,"li",13)(2,"a",11),t._UZ(3,"span"),t._uU(4),t.qZA()(),t.BQk()),2&n){const e=i.$implicit;t.xp6(2),t.ekj("deprecated-api-item","deprecated"===e.stability),t.Q6J("href",e.path,t.LSH),t.xp6(1),t.Gre("symbol ",e.docType,""),t.xp6(1),t.hij(" ",e.title," ")}}function M(n,i){if(1&n&&(t.TgZ(0,"ul",12),t.YNc(1,J,5,7,"ng-container",8),t.qZA()),2&n){const e=t.oxw().$implicit;t.xp6(1),t.Q6J("ngForOf",e.items)}}function Q(n,i){if(1&n&&(t.TgZ(0,"div"),t.YNc(1,j,3,4,"h2",9),t.YNc(2,M,2,1,"ul",10),t.qZA()),2&n){const e=i.$implicit;t.xp6(1),t.Q6J("ngIf",e.items),t.xp6(1),t.Q6J("ngIf",null==e.items?null:e.items.length)}}class F{constructor(){this.query="",this.status="all",this.type="all"}}class p{constructor(i,e){this.apiService=i,this.locationService=e,this.showStatusMenu=!1,this.showTypeMenu=!1,this.criteriaSubject=new d.t(1),this.searchCriteria=new F,this.types=[{value:"all",title:"All"},{value:"class",title:"Class"},{value:"const",title:"Const"},{value:"decorator",title:"Decorator"},{value:"directive",title:"Directive"},{value:"enum",title:"Enum"},{value:"function",title:"Function"},{value:"interface",title:"Interface"},{value:"pipe",title:"Pipe"},{value:"ngmodule",title:"NgModule"},{value:"type-alias",title:"Type alias"},{value:"package",title:"Package"}],this.statuses=[{value:"all",title:"All"},{value:"stable",title:"Stable"},{value:"deprecated",title:"Deprecated"},{value:"security-risk",title:"Security Risk"}]}ngOnInit(){this.filteredSections=(0,S.a)([this.apiService.sections,this.criteriaSubject]).pipe((0,A.U)(([i,e])=>i.map(s=>({...s,items:this.filterSection(s,e)})))),this.initializeSearchCriteria()}setQuery(i){this.setSearchCriteria({query:(i||"").toLowerCase().trim()})}setStatus(i){this.toggleStatusMenu(),this.status=i,this.setSearchCriteria({status:i.value})}setType(i){this.toggleTypeMenu(),this.type=i,this.setSearchCriteria({type:i.value})}toggleStatusMenu(){this.showStatusMenu=!this.showStatusMenu}toggleTypeMenu(){this.showTypeMenu=!this.showTypeMenu}filterSection(i,{query:e,status:s,type:o}){const c=i.items.filter(h=>function w(){return"all"===o||o===h.docType}()&&function D(){return"all"===s||s===h.stability||"security-risk"===s&&h.securityRisk}()&&function O(){return!e||-1!==i.name.indexOf(e)||-1!==h.name.indexOf(e)}());return c.length?c:"package"!==o||e&&-1===i.name.indexOf(e)?null:[]}initializeSearchCriteria(){const{query:i,status:e,type:s}=this.locationService.search(),o=(i||"").toLowerCase();this.queryEl.nativeElement.value=o,this.status=this.statuses.find(c=>c.value===e)||this.statuses[0],this.type=this.types.find(c=>c.value===s)||this.types[0],this.searchCriteria={query:o,status:this.status.value,type:this.type.value},this.criteriaSubject.next(this.searchCriteria)}setLocationSearch(){const{query:i,status:e,type:s}=this.searchCriteria;this.locationService.setSearch("API Search",{query:i||void 0,status:"all"!==e?e:void 0,type:"all"!==s?s:void 0})}setSearchCriteria(i){this.criteriaSubject.next(Object.assign(this.searchCriteria,i)),this.setLocationSearch()}}p.\u0275fac=function(i){return new(i||p)(t.Y36(l),t.Y36(Z.a))},p.\u0275cmp=t.Xpm({type:p,selectors:[["aio-api-list"]],viewQuery:function(i,e){if(1&i&&t.Gf(b,7),2&i){let s;t.iGM(s=t.CRH())&&(e.queryEl=s.first)}},decls:11,vars:9,consts:[[1,"l-flex-wrap","api-filter"],["label","Type:",3,"options","selected","showSymbol","change"],["label","Status:",3,"options","selected","disabled","change"],[1,"form-search"],[1,"material-icons"],["placeholder","Filter",3,"input"],["filter",""],[1,"api-list-container","l-content-small","docs-content"],[4,"ngFor","ngForOf"],[4,"ngIf"],["class","api-list",4,"ngIf"],[3,"href"],[1,"api-list"],[1,"api-item"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0)(1,"aio-select",1),t.NdJ("change",function(o){return e.setType(o.option)}),t.qZA(),t.TgZ(2,"aio-select",2),t.NdJ("change",function(o){return e.setStatus(o.option)}),t.qZA(),t.TgZ(3,"div",3)(4,"i",4),t._uU(5,"search"),t.qZA(),t.TgZ(6,"input",5,6),t.NdJ("input",function(o){return e.setQuery(o.target.value)}),t.qZA()()(),t.TgZ(8,"article",7),t.YNc(9,Q,3,2,"div",8),t.ALo(10,"async"),t.qZA()),2&i&&(t.xp6(1),t.Q6J("options",e.types)("selected",e.type)("showSymbol",!0),t.xp6(1),t.Q6J("options",e.statuses)("selected",e.status)("disabled","package"===e.type.value),t.xp6(7),t.Q6J("ngForOf",t.lcZ(10,7,e.filteredSections)))},dependencies:[u.sg,u.O5,x.H,u.Ov],encapsulation:2});class r{constructor(){this.customElementComponent=p}}r.\u0275fac=function(i){return new(i||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({providers:[l],imports:[u.ez,y.m,f.JF]})}}]);
//# sourceMappingURL=src_app_custom-elements_api_api-list_module_ts.b91c15affe380ba8.js.map